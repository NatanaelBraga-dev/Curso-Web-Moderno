<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicios HTML</title>
    <style>
        #conteudo{
            padding: 30px 0px;
        }
    </style>
</head>
<body>
    <h1>
        Exercicios HTML
    </h1>
    <nav>
        <a href wm-nav="exercicios/teste.html">00 - teste</a>
        <a href wm-nav="exercicios/texto1.html">01 - Texto 1</a>
        <a href wm-nav="exercicios/texto3.html">02 - Texto 2</a>
        <a href wm-nav="exercicios/listas.html">Listas</a>
        <a href wm-nav="exercicios/listaAninhada.html">Lista Aninhada</a>
        <a href wm-nav="exercicios/links.html">05 - Links</a>
    </nav>
    <section id="conteudo"></section>
    <footer>
        Curso de Web Moderno
    </footer>
<script>
    document.querySelectorAll('[wm-nav]').forEach(link => {
    const conteudo = document.getElementById("conteudo");

    link.onclick = function(e) {
      e.preventDefault();

      const url = link.getAttribute('wm-nav');

      fetch(url)
        .then(resp => resp.text())
        .then(html => {
          conteudo.innerHTML = html;

          // Executa os scripts que vieram no conteúdo carregado
          const scripts = conteudo.querySelectorAll('script');
          scripts.forEach(oldScript => {
            const newScript = document.createElement('script');

            if (oldScript.src) {
              // Verifica se o script externo já foi carregado
              if (!document.querySelector(`script[src="${oldScript.src}"]`)) {
                newScript.src = oldScript.src;
                document.head.appendChild(newScript);
              }
            } else {
              newScript.textContent = oldScript.textContent;
              document.body.appendChild(newScript);
            }
          });
        });
    }
  });
</script>
</body>
</html>